function y = 4thOrderButter(x)
%4THORDERBUTTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.9 and DSP System Toolbox 9.11.
% Generated on: 24-Jun-2021 12:46:33

%#codegen

% To generate C/C++ code from this function use the codegen command.
% Type 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    Denominator = [1 -3.6717 5.068 -3.116 0.71991];  % Denominator coefficient
    % vector
    
    % Numerator coefficient vector
    Numerator   = [1.3294e-05 5.3175e-05 7.9762e-05 5.3175e-05 1.3294e-05];
    
    Hd = dsp.IIRFilter( ...
        'Structure', 'Direct form I', ...
        'Numerator', Numerator, ...
        'Denominator', Denominator, ...
        'NumeratorCoefficientsDataType', 'Custom', ...
        'CustomNumeratorCoefficientsDataType', numerictype([],32,44), ...
        'DenominatorCoefficientsDataType', 'Custom', ...
        'CustomDenominatorCoefficientsDataType', numerictype([],32,28), ...
        'NumeratorAccumulatorDataType', 'Custom', ...
        'CustomNumeratorAccumulatorDataType', numerictype([],40,33), ...
        'DenominatorAccumulatorDataType', 'Custom', ...
        'CustomDenominatorAccumulatorDataType', numerictype([],40,25), ...
        'OutputDataType', 'Custom', ...
        'CustomOutputDataType', numerictype([],14,8), ...
        'RoundingMethod', 'Convergent');
end

s = fi(x,1,16,0,'RoundingMethod','Round','OverflowAction','Saturate');
y = step(Hd,s);


% [EOF]
end